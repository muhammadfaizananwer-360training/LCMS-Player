<div id="CourseLevelRating" style="display:none" ><!--  -->
<head>

    <script src='scripts/jquery/jquery1.9.1.js' type="text/javascript"></script>
 	<!-- <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js" type="text/javascript"></script> -->
 	
 	<script  type="text/javascript" LANGUAGE="Javascript">
 	    $jq = jQuery.noConflict();
 	</script>
 	
	<script src='scripts/jquery/jquery.MetaData.js' type="text/javascript" language="javascript"></script>
	<!-- <script src='scripts/json2.js' type="text/javascript" language="javascript"></script> -->
	<script src="https://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js"></script>
	<script src='scripts/jquery/jquery.rating.js' type="text/javascript" language="javascript"></script>
	
	<link href='css/jquery.rating.css' type="text/css" rel="stylesheet"/> 
	
	<script type="text/javascript" language ="javascript">
			
		var rating_questions = [
			[
				{
					question:"SecondaryQuestion_1$",
					options:[
						"SecondaryQuestion_2$",
						"SecondaryQuestion_3$",
						"SecondaryQuestion_4$"
					]
				},
				{
					question:"SecondaryQuestion_5$",
					options:[
						"SecondaryQuestion_6$",
						"SecondaryQuestion_7$",
						"SecondaryQuestion_8$"
					]
				},
				{
					question:"SecondaryQuestion_9$",
					options:[
						"SecondaryQuestion_10$",
						"SecondaryQuestion_11$",
						"SecondaryQuestion_12$"
					]
				},
				{
					question:"SecondaryQuestion_13$",
					options:[
						"SecondaryQuestion_14$",
						"SecondaryQuestion_15$",
						"SecondaryQuestion_16$"
					]
				},
				{
					question:"SecondaryQuestion_17$",
					options:[
						"SecondaryQuestion_18$",
						"SecondaryQuestion_19$",
						"SecondaryQuestion_20$"
					]
				}
			],
			[
				{
					question:"SecondaryQuestion_21$",
					options:[
						"SecondaryQuestion_22$",
						"SecondaryQuestion_23$",
						"SecondaryQuestion_24$"
					]
				},
				{
					question:"SecondaryQuestion_25$",
					options:[
						"SecondaryQuestion_26$",
						"SecondaryQuestion_27$",
						"SecondaryQuestion_28$"
					]
				},
				{
					question:"SecondaryQuestion_29$",
					options:[
						"SecondaryQuestion_30$",
						"SecondaryQuestion_31$",
						"SecondaryQuestion_32$"
					]
				},
				{
					question:"SecondaryQuestion_33$",
					options:[
						"SecondaryQuestion_34$",
						"SecondaryQuestion_35$",
						"SecondaryQuestion_36$"
					]
				},
				{
					question:"SecondaryQuestion_37$",
					options:[
						"SecondaryQuestion_38$",
						"SecondaryQuestion_39$",
						"SecondaryQuestion_40$"
					]
				}
			],
			[
				{
					question:"SecondaryQuestion_41$",
					options:[
						"SecondaryQuestion_42$",
						"SecondaryQuestion_43$",
						"SecondaryQuestion_44$"
					]
				},
				{
					question:"SecondaryQuestion_45$",
					options:[
						"SecondaryQuestion_46$",
						"SecondaryQuestion_47$",
						"SecondaryQuestion_48$"
					]
				},
				{
					question:"SecondaryQuestion_49$",
					options:[
						"SecondaryQuestion_50$",
						"SecondaryQuestion_51$",
						"SecondaryQuestion_52$"
					]
				},
				{
					question:"SecondaryQuestion_53$",
					options:[
						"SecondaryQuestion_54$",
						"SecondaryQuestion_55$",
						"SecondaryQuestion_56$"
					]
				},
				{
					question:"SecondaryQuestion_57$",
					options:[
						"SecondaryQuestion_58$",
						"SecondaryQuestion_59$",
						"SecondaryQuestion_60$"
					]
				}
			],
			[
				{
					question:"SecondaryQuestion_61$",
					options:[
						"SecondaryQuestion_62$",
						"SecondaryQuestion_63$",
						"SecondaryQuestion_64$"
					]
				},
				{
					question:"SecondaryQuestion_65$",
					options:[
						"SecondaryQuestion_66$",
						"SecondaryQuestion_67$",
						"SecondaryQuestion_68$"
					]
				},
				{
					question:"SecondaryQuestion_69$",
					options:[
						"SecondaryQuestion_70$",
						"SecondaryQuestion_71$",
						"SecondaryQuestion_72$"
					]
				},
				{
					question:"SecondaryQuestion_73$",
					options:[
						"SecondaryQuestion_74$",
						"SecondaryQuestion_75$",
						"SecondaryQuestion_76$"
					]
				},
				{
					question:"SecondaryQuestion_77$",
					options:[
						"SecondaryQuestion_78$",
						"SecondaryQuestion_79$",
						"SecondaryQuestion_80$"
					]
				}
			]
		];
		
 		$jq(document).ready(function() {
			/*if (window.userRating > 0 ) {
				$jq('input[type=radio]', document).rating('select', window.userRating-1);
				$jq('input[type=radio]', document).rating('readOnly');
			}*/
			
			for(var f=0; f<4; f++){
				var $star = $jq(".star-rating.rater-"+f);
				$jq(".star-rating.rater-"+f).click(function(){
					var qID = $jq(this).parent().parent().attr("id");
					qID = qID.split("_");
					qID = qID[1];
					
					qID = qID-1;
					
					var ques = rating_questions[qID][Number($jq(this).text())-1];
					var $rFeedback = $jq("#rating_feedback_"+(qID+1));
					$rFeedback.find(".question").html(ques.question);
					var strHTML = "";
					for(var i=0;i<ques.options.length; i++){
						strHTML += "<label><input name='opt"+qID+"' value='"+ques.options[i]+"' type='radio' />"+ques.options[i]+"</label><br>";
					}
					$rFeedback.find(".options").html(strHTML);
				});
			}
			
			if (window.userRating > 0 ) 
			{
				
				$jq('#rating_screen_1 #divstarRating_0 input[name=r0][value="' + window.CourseLevelRating.NPS_RATING + '"]').prop('checked', true);
				$jq('#rating_screen_1 #rating_tell_us_more_textArea').val(window.CourseLevelRating.USER_REVIEW_TEXT);
				$jq('#rating_screen_1 #rating_tell_us_more_textArea').prop('readOnly', true);
				$jq('#rating_screen_1 #divstarRating_0 input[name=r0]').prop('disabled', true);
				
				$jq('#rating_screen_2 #divstarRating_1 input[type=radio]',document).rating('select', window.CourseLevelRating.RATING_SHOPPINGEXP-1);
				$jq('#rating_screen_2 #divstarRating_1 input[type=radio]',document).rating('readOnly');
				var ques = rating_questions[0][Number(window.CourseLevelRating.RATING_SHOPPINGEXP)-1];
				var strHTML = "";
				for(var i=0;i<ques.options.length; i++){
					strHTML += "<label><input name='opt0' value='"+ques.options[i]+"' type='radio' />"+ques.options[i]+"</label><br>";
				}
				$jq("#rating_feedback_1").find(".options").html(strHTML);
				$jq('#rating_screen_2 #rating_feedback_1 div.question').html(window.CourseLevelRating.RATING_SHOPPINGEXP_SECONDARY_Q);
				
				$jq('#rating_screen_2 #rating_feedback_1 input[name=opt0][value="' + window.CourseLevelRating.RATING_SHOPPINGEXP_SECONDARY + '"]').prop('checked', true);
				
				
				
				$jq('#rating_screen_2 #divstarRating_2 input[type=radio]',document).rating('select', window.CourseLevelRating.RATING_COURSE-1);
				$jq('#rating_screen_2 #divstarRating_2 input[type=radio]',document).rating('readOnly');
				var ques = rating_questions[1][Number(window.CourseLevelRating.RATING_COURSE)-1];
				var strHTML = "";
				for(var i=0;i<ques.options.length; i++){
					strHTML += "<label><input name='opt1' value='"+ques.options[i]+"' type='radio' />"+ques.options[i]+"</label><br>";
				}
				$jq("#rating_feedback_2").find(".options").html(strHTML);
				$jq('#rating_screen_2 #rating_feedback_2 div.question').html(window.CourseLevelRating.RATING_COURSE_SECONDARY_Q);
				$jq('#rating_screen_2 #rating_feedback_2 input[name=opt1][value="' + window.CourseLevelRating.RATING_COURSE_SECONDARY + '"]').prop('checked', true);				

				
				$jq('#rating_screen_2 #divstarRating_3 input[type=radio]',document).rating('select', window.CourseLevelRating.RATING_LEARNINGTECH-1);
				$jq('#rating_screen_2 #divstarRating_3 input[type=radio]',document).rating('readOnly');
				var ques = rating_questions[2][Number(window.CourseLevelRating.RATING_LEARNINGTECH)-1];
				var strHTML = "";
				for(var i=0;i<ques.options.length; i++){
					strHTML += "<label><input name='opt2' value='"+ques.options[i]+"' type='radio' />"+ques.options[i]+"</label><br>";
				}
				$jq("#rating_feedback_3").find(".options").html(strHTML);
				$jq('#rating_screen_2 #rating_feedback_3 div.question').html(window.CourseLevelRating.RATING_LEARNINGTECH_SECONDARY_Q);
				$jq('#rating_screen_2 #rating_feedback_3 input[name=opt2][value="' + window.CourseLevelRating.RATING_LEARNINGTECH_SECONDARY + '"]').prop('checked', true);
				
				$jq('#rating_screen_2 #divstarRating_4 input[type=radio]',document).rating('select', window.CourseLevelRating.RATING_CS-1);
				$jq('#rating_screen_2 #divstarRating_4 input[type=radio]',document).rating('readOnly');
				var ques = rating_questions[3][Number(window.CourseLevelRating.RATING_CS)-1];
				var strHTML = "";
				for(var i=0;i<ques.options.length; i++){
					strHTML += "<label><input name='opt3' value='"+ques.options[i]+"' type='radio' />"+ques.options[i]+"</label><br>";
				}
				$jq("#rating_feedback_4").find(".options").html(strHTML);
				$jq('#rating_screen_2 #rating_feedback_4 div.question').html(window.CourseLevelRating.RATING_CS_SECONDARY_Q);
				
				$jq('#rating_screen_2 #rating_feedback_4 input[name=opt3][value="' + window.CourseLevelRating.RATING_CS_SECONDARY + '"]').prop('checked', true);

				
				$jq('#rating_screen_2 #rating_feedback_1 input[name=opt0][value="' + window.CourseLevelRating.RATING_COURSE_SECONDARY + '"]').prop('checked', true);
				$jq('#rating_screen_2 #rating_feedback_1 input[name=opt1][value="' + window.CourseLevelRating.RATING_SHOPPINGEXP_SECONDARY + '"]').prop('checked', true);
				$jq('#rating_screen_2 #rating_feedback_1 input[name=opt2][value="' + window.CourseLevelRating.RATING_LEARNINGTECH_SECONDARY + '"]').prop('checked', true);
				$jq('#rating_screen_2 #rating_feedback_1 input[name=opt3][value="' + window.CourseLevelRating.RATING_CS_SECONDARY + '"]').prop('checked', true);

				$jq('#rating_screen_2 #rating_feedback_1.question').html(window.CourseLevelRating.RATING_COURSE_SECONDARY);
				$jq('#rating_screen_2 #rating_feedback_1.question').html(window.CourseLevelRating.RATING_SHOPPINGEXP_SECONDARY);
				$jq('#rating_screen_2 #rating_feedback_1.question').html(window.CourseLevelRating.RATING_LEARNINGTECH_SECONDARY);
				$jq('#rating_screen_2 #rating_feedback_1.question').html(window.CourseLevelRating.RATING_CS_SECONDARY);
				
				$jq('#SubmitRatingBtn').prop("disabled", "true");
				
			}
		});
		
		function further_rating_questions(condition)
		{
			if(condition)
			{
				$jq("#rating_screen_1").css("display","none");
				$jq("#rating_screen_2").css("display","block");
			}else{
				$jq("#rating_screen_1").css("display","block");
				$jq("#rating_screen_2").css("display","none");
			}
		}
		
		function SubmitRating()
		{	
			
			var isSaved = cp.SaveCourseRatingNPS($jq('#rating_screen_1 #divstarRating_0 input[name=r0]:checked').val(),
			$jq('#rating_screen_1 #rating_tell_us_more_textArea').val(),
			$jq('#rating_screen_2 #divstarRating_1 div.star-rating-on:last').find('a').text(),
			$jq('#rating_screen_2 #divstarRating_2 div.star-rating-on:last').find('a').text(),
			$jq('#rating_screen_2 #divstarRating_3 div.star-rating-on:last').find('a').text(),
			$jq('#rating_screen_2 #divstarRating_4 div.star-rating-on:last').find('a').text(),
			$jq('#rating_screen_2 #rating_feedback_1 input[name=opt0]:checked').parent().text(),
			$jq('#rating_screen_2 #rating_feedback_2 input[name=opt1]:checked').parent().text(),
			$jq('#rating_screen_2 #rating_feedback_3 input[name=opt2]:checked').parent().text(),
			$jq('#rating_screen_2 #rating_feedback_4 input[name=opt3]:checked').parent().text(),
			
			$jq('#rating_screen_2 #rating_feedback_1 div.question').html(),
			$jq('#rating_screen_2 #rating_feedback_2 div.question').html(),
			$jq('#rating_screen_2 #rating_feedback_3 div.question').html(),
			$jq('#rating_screen_2 #rating_feedback_4 div.question').html()
			
			);
			if(isSaved==true)
			{
			    $jq('#SubmitRatingBtn').attr("disabled", "disabled");
				
				$jq('#rating_screen_1 #divstarRating_0 input[name=r0]').prop('disabled', true);
				$jq('#rating_screen_1 #rating_tell_us_more_textArea').prop('readonly', true);
				$jq('#rating_screen_2 input[type=radio]', document).rating('readOnly');
				$jq('#rating_screen_2 input[type=radio]').prop('disabled', true);
				
				$jq('#ratingresult').html('Thank you for taking the time to share your experience. Your feedback is instrumental in helping us refine our processes and improve customer satisfaction.');
				$jq('#ratingresult').show();
			}
			
		}
		
		
		var maxLength = 255;
		function testLength(ta) {
			if(ta.value.length > maxLength) {
				ta.value = ta.value.substring(0, maxLength);
				}
		}

		
	</script>

<style>
.rating_table_strip{background-color: #f6f6f6;}
.rating_fb{color:#666;}
.rating_fb > div{float:left;width:50%;}
.rating_fb > .options{}

.rating_fb > .options > label > input{margin:0px 4px;}

.rating_inst, .rating_fb > .options > label{font-size:14px;color:#999;}
.rating_table{padding:5px;margin:5px 0;border: 1px solid #eee;}
.rating_table td{padding:6px 8px;}

.rating_table_num{padding:5px;margin-top:4px;margin-bottom:20px;border: 1px solid #eee;background-color:#f6f6f6;}
.rating_table_num > tbody > tr{text-align:center;}
.rating_table_num > tbody > tr > td{width:55px; padding:5px;}

.rating_sub_screen{padding:50px 20px; font-size:14px;}
.tell_us_textarea{width:100%; height:100px; min-width:300px; margin-top:4px;margin-bottom:4px;}

.table {width:100%; padding: 10px 0;}
.table>tbody>tr>td, .table>tbody>tr>th, .table>tfoot>tr>td, .table>tfoot>tr>th, .table>thead>tr>td, .table>thead>tr>th{ border-style: none;}
.mainimage {
  max-width: 350px;
  max-height: 360px;
  width: expression(this.width > 350 ? "350px" : true);
  height: expression(this.height > 360 ? "360px" : true);
}
.sceneTextArea {font-family : Tahoma, Arial, Verdana, Helvetica, sans-serif;font-size : 18px;font:bold;text-align: left;vertical-align:top;}

#contentTable {
  height:98%;
  width:100%;
  margin : auto;
  border : 10px white solid;
}

.sceneTitle {
  font-family : Tahoma, Arial, Verdana, Helvetica, sans-serif; 
  font-size : 36px; 
  text-decoration : bold;
  
}

.sceneTextArea {
  text-align: left;
  font-family : Tahoma, Arial, Verdana, Helvetica, sans-serif; 
  font-size : 14px;
  border-bottom:solid 1px #CCCCCC;
  border-top:solid 2px  #999999;
  border-left:solid 2px #999999;
  border-right:solid 1px  #CCCCCC;  
  height: 198px;
  width: 99%;
  overflow:auto;
}

.sceneTextArea p{
margin:0px;
padding:0px;
}

.sceneClosedCaptioningText {
  text-align: justify;
  font-family : Tahoma, Arial, Verdana, Helvetica, sans-serif; 
  font-size : 12px;

}
.sceneClosedCaptioningText p{
margin:0px;
padding:0px;
}

.sceneHelpText
{
 font-family:Tahoma;
 font-size:18px;

 }
 
 #ratingresult{
	font-size:14px;
	color:#35aa47;
	margin-top:10px;
 }
 
 #wrapper{background-color:#ffffff;}
 
</style>
</head>
	
<div class="rating_sub_screen">
	<table border="0" cellpadding="0" cellspacing="0" class="table table-responsive">
		<tr>
			<td style="padding-right: 15px; width: 1px;"><img src="$VisualImage" alt="" class="mainimage" /></td>
			<td><h1 class="scene-title">$RatingScreen1Heading</h1></td>
		</tr>
	</table>
	
	<div id="rating_screen_1" style="padding:10px; font-size:16px !important;">
		<span>$RatingScreen1Text</span>
		<table width="100%" cellspacing="0" class="rating_table_num table-responsive">
			<tr id='divstarRating_0'>
				<td><label><input type="radio" name="r0" value="0"/><br>0</label></td>
				<td><label><input type="radio" name="r0" value="1"/><br>1</label></td>
				<td><label><input type="radio" name="r0" value="2"/><br>2</label></td>
				<td><label><input type="radio" name="r0" value="3"/><br>3</label></td>
				<td><label><input type="radio" name="r0" value="4"/><br>4</label></td>
				<td><label><input type="radio" name="r0" value="5"/><br>5</label></td>
				<td><label><input type="radio" name="r0" value="6"/><br>6</label></td>
				<td><label><input type="radio" name="r0" value="7"/><br>7</label></td>
				<td><label><input type="radio" name="r0" value="8"/><br>8</label></td>
				<td><label><input type="radio" name="r0" value="9"/><br>9</label></td>
				<td><label><input type="radio" name="r0" value="10"/><br>10</label></td>
			</tr>
			<tr class="rating_inst">
				<td><small>$RatingScreen1ZeroText</small></td>
				<td colspan="9"></td>
				<td><small>$RatingScreen1TenthText</small></td>
			</tr>
		</table>
		
		<div id="rating_tell_us_more">
			<span>$RatingScreen1ReviewText</span><br>
			<textarea maxlength="255" id="rating_tell_us_more_textArea" class="tell_us_textarea form-control" onchange="testLength(this)"
               onkeyup="testLength(this)" onpaste="testLength(this)" placeholder="Maximum allowed character limit is 255" ></textarea>
			<input type="button" value="$RatingScreen1NextButtonText" class="cd-btn main-action button" onclick="further_rating_questions(true)"/>
		</div>
	</div>
	
	<div id="rating_screen_2" style="display:none">
		<span class="rating_inst">$RatingScreen2Text</span>
		<table width="100%" cellspacing="0" class="rating_table table-responsive">
		    <tr class="rating_table_strip">
				<td width="40%" style="min-width:220px;">
					<div>$RatingScreen2RateCourseText</div>
					<div id='divstarRating_2'>
						<input class="star required" type="radio" name="star2" value="1" title='$ReallyDidntLikeIt'/>
						<input class="star" type="radio" name="star2" value="2" title='$DidntLikeIt'/>
						<input class="star" type="radio" name="star2" value="3" title='$ItwasOk'/>
						<input class="star" type="radio" name="star2" value="4" title='$LikedIt'/>
						<input class="star" type="radio" name="star2" value="5" title='$LovedIt'/>
					</div>
				</td>
				<td id="rating_feedback_2" class="rating_fb">
					<div class="question"></div>
					<div class="options"></div>
				</td>
			</tr>
			<tr>
				<td>
					<div>$RatingScreen2RateShoppingExpText</div>
					<div id='divstarRating_1'>
						<input class="star required" type="radio" name="star1" value="1" title='$ReallyDidntLikeIt'/>
						<input class="star" type="radio" name="star1" value="2" title='$DidntLikeIt'/>
						<input class="star" type="radio" name="star1" value="3" title='$ItwasOk'/>
						<input class="star" type="radio" name="star1" value="4" title='$LikedIt'/>
						<input class="star" type="radio" name="star1" value="5" title='$LovedIt'/>
					</div>
				</td>
				<td id="rating_feedback_1" class="rating_fb">
					<div class="question"></div>
					<div class="options"></div>
				</td>
			</tr>			
			<tr class="rating_table_strip">
				<td>
					<div>$RatingScreen2RateLOText</div>
					<div id='divstarRating_3'>
						<input class="star required" type="radio" name="star3" value="1" title='$ReallyDidntLikeIt'/>
						<input class="star" type="radio" name="star3" value="2" title='$DidntLikeIt'/>
						<input class="star" type="radio" name="star3" value="3" title='$ItwasOk'/>
						<input class="star" type="radio" name="star3" value="4" title='$LikedIt'/>
						<input class="star" type="radio" name="star3" value="5" title='$LovedIt'/>
					</div>
				</td>
				<td id="rating_feedback_3" class="rating_fb">
					<div class="question"></div>
					<div class="options"></div>
				</td>
			</tr>
			<tr>
				<td>
					<div>$RatingScreen2RateSupportExpText</div>
					<div id='divstarRating_4'>
						<input class="star required" type="radio" name="star4" value="1" title='$ReallyDidntLikeIt'/>
						<input class="star" type="radio" name="star4" value="2" title='$DidntLikeIt'/>
						<input class="star" type="radio" name="star4" value="3" title='$ItwasOk'/>
						<input class="star" type="radio" name="star4" value="4" title='$LikedIt'/>
						<input class="star" type="radio" name="star4" value="5" title='$LovedIt'/>
					</div>
				</td>
				<td id="rating_feedback_4" class="rating_fb">
					<div class="question"></div>
					<div class="options"></div>
				</td>
			</tr>
		</table>

		<div style="float:left; display:block-inline;"><!-- id="CourseLevelRatingButton" -->
			<input type="button" value="$RatingScreen1BackButtonText" class="button cd-btn main-action" onclick="further_rating_questions(false)"/>
			<input type="button" id="SubmitRatingBtn" value="$RatingScreen1SubmitButtonText" class="button star-rating-readonly cd-btn main-action" onclick="SubmitRating()"/>
			<div id="ratingresult" class="sceneHelpText" style="float:right;margin-left:5px;" >$RatingSubmitSuccess</div>		
		<!--<div id="btnstart" class="btn-start" style="float:left;"></div> 
			<span id="SubmitRating"><a class="btn-stem star-rating-readonly" href="#">$submit</a></span>
			<div id="btnend" class="btn-end" style="float:left;"></div> -->
		</div>
		
	</div>
</div>
</div><!--// tabs //-->   